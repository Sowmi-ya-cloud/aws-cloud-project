<!DOCTYPE html>
<html>
<head>
 <meta charset="UTF-8">
 <title>Prod</title>
</head>
<body>
 <h2>Products</h2>
 <ul id="product"></ul>

 <!-- NEW: Place Order Button -->
 <button onclick="placeOrder()">Place Order</button>

 <script>
 // Fetch and display products
 fetch("http://54.162.93.27:3000/products")
 .then(res => res.json())
 .then(data => {
     let list = document.getElementById("product");  // fixed typo
     data.forEach(p => {
         let item = document.createElement("li");
         item.innerHTML = `
             <img src="${p.image}" width="100" />
             <br>${p.name} - â‚¹${p.price} 
             <button onclick="addToCart(${p.id})">Add to Cart</button>
         `;
         list.appendChild(item);
     });
 });

 // Add to Cart function
 function addToCart(id) {
     fetch("http://54.162.93.27:3000/cart", {
         method: "POST",
         headers: { "Content-Type": "application/json" },
         body: JSON.stringify({ productId: id })
     })
     .then(res => res.json())
     .then(msg => alert(msg.message));
 }

 // NEW: Place Order function
 function placeOrder() {
     fetch("http://54.162.93.27:3000/order", {
         method: "POST",
         headers: { "Content-Type": "application/json" }
     })
     .then(res => res.json())
     .then(msg => alert(msg.message));
 }
 </script>
</body>
</html>


